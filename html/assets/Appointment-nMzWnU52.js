import{m as T}from"./mayor3-BuBV1Ytx.js";import{a as N}from"./axios-DsPaXkF5.js";import{_ as f,o as h,c as U,a as o,w as a,m as I,b as u,d as m,n as C,r as s,p as E,l as O,e as B}from"./app-CTQqvN_H.js";const z={data(){return{backgroundImage:T,formValid:!1,first_name:"",last_name:"",address:"",email:"",reasons:"",loading:!1,mobile_num:"",time:"",updatedMenu:!1,date:null,formattedDate:"",timeOptions:["10:00AM-11:00AM","11:00AM-12:00PM","12:00PM-1:00PM","1:00PM-2:00PM","2:00PM-3:00PM","3:00PM-4:00PM","4:00PM-5:00PM","5:00PM-6:00PM","6:00PM-7:00PM"],successDialog:!1}},computed:{backgroundStyle(){return{background:`linear-gradient(to right, rgba(10, 0, 255, 0.2), rgba(20, 0, 255, 0.2), rgba(20, 0, 255, 0.2), rgba(20, 0, 255, 0)), url(${this.backgroundImage})`,backgroundSize:"cover"}}},methods:{formatDate(n){if(n){const l=new Date(n).toISOString().slice(0,10);this.formattedDate=l}},closeDialog(){this.successDialog=!1,this.resetForm()},resetForm(){this.first_name="",this.last_name="",this.address="",this.mobile_num="",this.email="",this.reasons="",this.time="",this.date=null,this.formattedDate=""},clearDate(){this.preferredDate=null,this.formattedDate=""},async submit(){if(this.loading=!0,this.$refs.form.validate()){const n={first_name:this.first_name,last_name:this.last_name,address:this.address,mobile_num:this.mobile_num,email:this.email,time:this.time,date:this.date,reasons:this.reasons};await N.post("/api/book-appointment",n),this.loading=!1,this.successDialog=!0}else this.loading=!1}}},b=n=>(E("data-v-ed3dbe62"),n=n(),O(),n),L=b(()=>u("div",{class:"text-h4 text-md-3 text-white font-weight-bold"}," PAMS ",-1)),R=b(()=>u("div",{class:"md-2 mb-lg-6 text-body-2 ml-1 text-white"}," PILAR APPOINTMENT MANAGEMENT SYSTEM ",-1)),Y={class:"d-flex justify-center pt-6"};function j(n,l,g,v,t,i){const r=s("v-col"),d=s("v-text-field"),V=s("v-textarea"),F=s("v-select"),x=s("v-date-picker"),y=s("v-menu"),c=s("v-row"),p=s("v-btn"),w=s("v-form"),_=s("v-card"),M=s("v-container"),P=s("v-card-title"),D=s("v-card-text"),k=s("v-card-actions"),A=s("v-dialog");return h(),U("div",{class:"bg-class h-120 w-120",style:C(i.backgroundStyle)},[o(M,{class:"py-md-8 py-4 h-100"},{default:a(()=>[o(c,null,{default:a(()=>[o(r,{col:"12",md:"6"}),o(r,{col:"12",md:"6"},{default:a(()=>[o(_,{"min-height":"600px",class:"primary-gradient-bg pa-5 pa-sm-10 pa-md-12 pa-lg-16"},{default:a(()=>[L,R,o(w,{ref:"form",modelValue:t.formValid,"onUpdate:modelValue":l[10]||(l[10]=e=>t.formValid=e)},{default:a(()=>[o(c,null,{default:a(()=>[o(r,{cols:"12"},{default:a(()=>[o(d,{modelValue:t.first_name,"onUpdate:modelValue":l[0]||(l[0]=e=>t.first_name=e),label:"First Name",placeholder:"Type your First Name",flat:"",variant:"outlined",color:"#FFFFF",rounded:"lg",id:"first_name",class:"mt-5 text-white",rules:[e=>!!e||"This field cannot be empty."],"hide-details":"auto"},null,8,["modelValue","rules"]),o(d,{modelValue:t.last_name,"onUpdate:modelValue":l[1]||(l[1]=e=>t.last_name=e),label:"Last Name",placeholder:"Type your Last Name",flat:"",variant:"outlined",color:"#FFFFF",rounded:"lg",id:"last_name",class:"mt-5 text-white",rules:[e=>!!e||"This field cannot be empty."],"hide-details":"auto"},null,8,["modelValue","rules"]),o(d,{modelValue:t.address,"onUpdate:modelValue":l[2]||(l[2]=e=>t.address=e),label:"Address",placeholder:"Type your Address",flat:"",variant:"outlined",color:"#FFFFF",rounded:"lg",id:"address",class:"mt-5 text-white",rules:[e=>!!e||"This field cannot be empty."],"hide-details":"auto"},null,8,["modelValue","rules"]),o(d,{modelValue:t.mobile_num,"onUpdate:modelValue":l[3]||(l[3]=e=>t.mobile_num=e),label:"Mobile Number",placeholder:"Type your Mobile Number",flat:"",variant:"outlined",color:"#FFFFF",rounded:"lg",id:"mobile_num",class:"mt-5 text-white",rules:[e=>!!e||"This field cannot be empty.",e=>/^\d{11}$/.test(e)||"Please enter a valid phone number"],"hide-details":"auto"},null,8,["modelValue","rules"]),o(d,{modelValue:t.email,"onUpdate:modelValue":l[4]||(l[4]=e=>t.email=e),label:"Email",placeholder:"Type your Email Address",flat:"",variant:"outlined",color:"#FFFFF",rounded:"lg",id:"email",class:"mt-5 text-white",rules:[e=>!e||/^[\w+.-]*@[\w+.-]*\.[\w]{2,3}$/.test(e)||"Please enter a valid email"],"hide-details":"auto"},null,8,["modelValue","rules"]),o(V,{class:"mt-5 text-white",modelValue:t.reasons,"onUpdate:modelValue":l[5]||(l[5]=e=>t.reasons=e),color:"#FFFFF",placeholder:"Type your Reason of Appointment Here",label:"Reason of Appointment","row-height":"25",rows:"3",variant:"outlined","auto-grow":"",shaped:""},null,8,["modelValue"]),o(F,{modelValue:t.time,"onUpdate:modelValue":l[6]||(l[6]=e=>t.time=e),items:t.timeOptions,class:"mt-5 text-white",rules:[e=>!!e||"This field cannot be empty."],variant:"outlined","hide-details":"auto"},null,8,["modelValue","items","rules"]),o(y,{modelValue:t.updatedMenu,"onUpdate:modelValue":l[9]||(l[9]=e=>t.updatedMenu=e),"close-on-content-click":!1,location:"bottom"},{activator:a(({props:e})=>[o(d,I({clearable:"","onClick:clear":i.clearDate,placeholder:"Select Preferred Date",label:"Select Preferred Date",modelValue:t.formattedDate,"onUpdate:modelValue":l[7]||(l[7]=S=>t.formattedDate=S),"prepend-inner-icon":"mdi-calendar",flat:"",class:"mt-5 text-white",variant:"outlined",color:"#FFFFFF"},e),null,16,["onClick:clear","modelValue"])]),default:a(()=>[o(x,{width:"600",modelValue:t.date,"onUpdate:modelValue":[l[8]||(l[8]=e=>t.date=e),i.formatDate]},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),u("div",Y,[o(p,{width:"200",height:"50",size:"x-large",class:"text-body-2 font-weight-bold bg-white",variant:"outlined",color:"black",disabled:!t.formValid||t.loading,loading:t.loading,onClick:i.submit},{default:a(()=>[m("Submit")]),_:1},8,["disabled","loading","onClick"])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(A,{modelValue:t.successDialog,"onUpdate:modelValue":l[11]||(l[11]=e=>t.successDialog=e),persistent:"","max-width":"400"},{default:a(()=>[o(_,null,{default:a(()=>[o(P,{class:"headline"},{default:a(()=>[m("Success")]),_:1}),o(D,null,{default:a(()=>[m("Your appointment has been successfully booked.")]),_:1}),o(k,null,{default:a(()=>[o(p,{color:"primary",onClick:i.closeDialog},{default:a(()=>[m("OK")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],4)}const G=f(z,[["render",j],["__scopeId","data-v-ed3dbe62"]]),H={components:{AppointmentForm:G}};function K(n,l,g,v,t,i){const r=s("AppointmentForm");return h(),B(r)}const W=f(H,[["render",K]]);export{W as default};
