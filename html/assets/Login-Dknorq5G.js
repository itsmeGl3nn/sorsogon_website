import{a as g}from"./axios-DsPaXkF5.js";import{_ as f,u as w,P as y,o as h,c as k,a as s,w as i,b as u,d as x,n as V,r as a,M as L,e as F}from"./app-CTQqvN_H.js";const P="/build/assets/logo2-QddgRb8n.png",B="/build/assets/bgMain-Cv1jFBpL.png",N={data(){return{logo:P,backgroundImage:B,form:!1,email:"",password:""}},computed:{backgroundStyle(){return{background:`linear-gradient(to right, rgba(20, 0, 255, 0.8), rgba(20, 0, 255, 0.5), rgba(20, 0, 255, 0.2), rgba(20, 0, 255, 0)), url(${this.backgroundImage})`,backgroundPosition:"center center",backgroundSize:"cover"}}},setup(){const{smAndUp:r}=w();return{smAndUp:r}},methods:{async login(){var r,o;try{const n=await g.post("/api/login",{email:this.email,password:this.password}),l=n.data.access_token,e=n.data.user;if(!l)throw new Error("No token received.");y().saveData(l,e.email,e.first_name,e.last_name,e.role),g.defaults.headers.common.Authorization=`Bearer ${l}`,this.$router.push("/dashboard")}catch(n){console.error(((o=(r=n.response)==null?void 0:r.data)==null?void 0:o.error)||n.message),alert("Login failed. Please check your credentials.")}}}},S={class:"py-16 mt-14 d-flex justify-center"},C={class:"px-4 py-6"},M={class:"d-flex justify-center"},U={class:"d-flex justify-center pt-6"};function j(r,o,n,l,e,d){const m=a("v-img"),c=a("v-text-field"),p=a("v-btn"),_=a("v-form"),v=a("v-card"),b=a("v-container");return h(),k("div",{class:"bg-class h-120 w-120",style:V(d.backgroundStyle)},[s(b,{class:"h-100"},{default:i(()=>[u("div",S,[s(v,{height:"auto",width:"600",flat:"",rounded:"xl"},{default:i(()=>[s(_,{modelValue:e.form,"onUpdate:modelValue":o[2]||(o[2]=t=>e.form=t)},{default:i(()=>[u("div",C,[u("div",M,[s(m,{src:e.logo,width:l.smAndUp?140:150,height:"100","aspect-ratio":"16/9",contain:"",alt:"Logo_sorsogon"},null,8,["src","width"])]),s(c,{modelValue:e.email,"onUpdate:modelValue":o[0]||(o[0]=t=>e.email=t),label:"Email",placeholder:"Type your Email Address",flat:"",variant:"outlined",rounded:"lg",id:"email",class:"mt-3",rules:[t=>!t||/^[\w+.-]*@[\w+.-]*\.[\w]{2,3}$/.test(t)||"Please enter a valid email"],"hide-details":"auto"},null,8,["modelValue","rules"]),s(c,{type:"password",modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=t=>e.password=t),label:"Password",placeholder:"Type your Password",flat:"",variant:"outlined",rounded:"lg",id:"firstName",class:"mt-3",rules:[t=>!!t||"This field cannot be empty."],"hide-details":"auto"},null,8,["modelValue","rules"]),u("div",U,[s(p,{width:"200",height:"50",size:"x-large",class:"text-body-2 font-weight-bold bg-blue",variant:"outlined",color:"white",onClick:d.login},{default:i(()=>[x("LOGIN")]),_:1},8,["onClick"])])])]),_:1},8,["modelValue"])]),_:1})])]),_:1})],4)}const z=f(N,[["render",j],["__scopeId","data-v-d9ab9339"]]),A={components:{LoginForm:z,MainFooter:L}};function E(r,o,n,l,e,d){const m=a("LoginForm"),c=a("v-main"),p=a("MainFooter"),_=a("v-app");return h(),F(_,null,{default:i(()=>[s(c,null,{default:i(()=>[s(m)]),_:1}),s(p)]),_:1})}const $=f(A,[["render",E]]);export{$ as default};
