import{m as T}from"./mayor3-BuBV1Ytx.js";import{a as N}from"./axios-DsPaXkF5.js";import{_ as f,o as h,c as S,a as l,w as a,b as u,d as m,n as D,r as s,p as I,l as U,e as A}from"./app-CTQqvN_H.js";const M={data(){return{backgroundImage:T,formValid:!1,first_name:"",last_name:"",address:"",email:"",complaint:"",loading:!1,mobile_num:"",successDialog:!1}},computed:{backgroundStyle(){return{background:`linear-gradient(to right, rgba(10, 0, 255, 0.2), rgba(20, 0, 255, 0.2), rgba(20, 0, 255, 0.2), rgba(20, 0, 255, 0)), url(${this.backgroundImage})`,backgroundSize:"cover"}}},methods:{closeDialog(){this.successDialog=!1,this.resetForm()},resetForm(){this.first_name="",this.last_name="",this.address="",this.mobile_num="",this.email="",this.complaint=""},async submit(){if(this.loading=!0,this.$refs.form.validate()){const n={first_name:this.first_name,last_name:this.last_name,address:this.address,mobile_num:this.mobile_num,email:this.email,complaint:this.complaint};await N.post("/api/complaints",n),this.loading=!1,this.successDialog=!0}else this.loading=!1}}},b=n=>(I("data-v-4739228d"),n=n(),U(),n),E=b(()=>u("div",{class:"text-h4 text-md-3 text-white font-weight-bold"}," PCMS ",-1)),P=b(()=>u("div",{class:"md-2 mb-lg-6 text-body-2 ml-1 text-white"}," PILAR COMPLAINT MANAGEMENT SYSTEM ",-1)),B={class:"d-flex justify-center pt-6"};function L(n,o,g,v,t,r){const i=s("v-col"),d=s("v-text-field"),F=s("v-textarea"),c=s("v-row"),p=s("v-btn"),V=s("v-form"),_=s("v-card"),y=s("v-container"),x=s("v-card-title"),w=s("v-card-text"),C=s("v-card-actions"),k=s("v-dialog");return h(),S("div",{class:"bg-class h-120 w-120",style:D(r.backgroundStyle)},[l(y,{class:"py-md-8 py-4 h-100"},{default:a(()=>[l(c,null,{default:a(()=>[l(i,{col:"12",md:"6"}),l(i,{col:"12",md:"6"},{default:a(()=>[l(_,{"min-height":"600px",class:"primary-gradient-bg pa-5 pa-sm-10 pa-md-12 pa-lg-16"},{default:a(()=>[E,P,l(V,{ref:"form",modelValue:t.formValid,"onUpdate:modelValue":o[6]||(o[6]=e=>t.formValid=e)},{default:a(()=>[l(c,null,{default:a(()=>[l(i,{cols:"12"},{default:a(()=>[l(d,{modelValue:t.first_name,"onUpdate:modelValue":o[0]||(o[0]=e=>t.first_name=e),label:"First Name",placeholder:"Type your First Name",flat:"",variant:"outlined",color:"#FFFFF",rounded:"lg",id:"first_name",class:"mt-5 text-white",rules:[e=>!!e||"This field cannot be empty."],"hide-details":"auto"},null,8,["modelValue","rules"]),l(d,{modelValue:t.last_name,"onUpdate:modelValue":o[1]||(o[1]=e=>t.last_name=e),label:"Last Name",placeholder:"Type your Last Name",flat:"",variant:"outlined",color:"#FFFFF",rounded:"lg",id:"last_name",class:"mt-5 text-white",rules:[e=>!!e||"This field cannot be empty."],"hide-details":"auto"},null,8,["modelValue","rules"]),l(d,{modelValue:t.address,"onUpdate:modelValue":o[2]||(o[2]=e=>t.address=e),label:"Address",placeholder:"Type your Address",flat:"",variant:"outlined",color:"#FFFFF",rounded:"lg",id:"address",class:"mt-5 text-white",rules:[e=>!!e||"This field cannot be empty."],"hide-details":"auto"},null,8,["modelValue","rules"]),l(d,{modelValue:t.mobile_num,"onUpdate:modelValue":o[3]||(o[3]=e=>t.mobile_num=e),label:"Mobile Number",placeholder:"Type your Mobile Number",flat:"",variant:"outlined",color:"#FFFFF",rounded:"lg",id:"mobile_num",class:"mt-5 text-white",rules:[e=>!!e||"This field cannot be empty.",e=>/^\d{11}$/.test(e)||"Please enter a valid phone number"],"hide-details":"auto"},null,8,["modelValue","rules"]),l(d,{modelValue:t.email,"onUpdate:modelValue":o[4]||(o[4]=e=>t.email=e),label:"Email",placeholder:"Type your Email Address",flat:"",variant:"outlined",color:"#FFFFF",rounded:"lg",id:"email",class:"mt-5 text-white",rules:[e=>!e||/^[\w+.-]*@[\w+.-]*\.[\w]{2,3}$/.test(e)||"Please enter a valid email"],"hide-details":"auto"},null,8,["modelValue","rules"]),l(F,{class:"mt-5 text-white",modelValue:t.complaint,"onUpdate:modelValue":o[5]||(o[5]=e=>t.complaint=e),color:"#FFFFF",placeholder:"Type your Complaint Here",label:"Complaint","row-height":"25",rows:"3",variant:"outlined","auto-grow":"",shaped:""},null,8,["modelValue"])]),_:1})]),_:1}),u("div",B,[l(p,{width:"200",height:"50",size:"x-large",class:"text-body-2 font-weight-bold bg-white",variant:"outlined",color:"black",disabled:!t.formValid||t.loading,loading:t.loading,onClick:r.submit},{default:a(()=>[m("Submit")]),_:1},8,["disabled","loading","onClick"])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),l(k,{modelValue:t.successDialog,"onUpdate:modelValue":o[7]||(o[7]=e=>t.successDialog=e),persistent:"","max-width":"400"},{default:a(()=>[l(_,null,{default:a(()=>[l(x,{class:"headline"},{default:a(()=>[m("Success")]),_:1}),l(w,null,{default:a(()=>[m("Your Complaint has been successfully added.")]),_:1}),l(C,null,{default:a(()=>[l(p,{color:"primary",onClick:r.closeDialog},{default:a(()=>[m("OK")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],4)}const z=f(M,[["render",L],["__scopeId","data-v-4739228d"]]),O={components:{ComplaintForm:z}};function Y(n,o,g,v,t,r){const i=s("ComplaintForm");return h(),A(i)}const K=f(O,[["render",Y]]);export{K as default};
